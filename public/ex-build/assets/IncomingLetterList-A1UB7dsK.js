import{c,a as u,b as t,p as m,u as C,i as L,q as M,d as i,e as l,h as B,j as n,t as a,k as _,n as z,s as S,v as $,F as Z}from"./app-dLBOcVNJ.js";import{_ as N}from"./AuthenticatedLayout-CyZJui5o.js";import{_ as P}from"./en-CR65d2FG.js";import{D as T}from"./DataTable-BVy1cLBB.js";import{r as v,d as V}from"./dayjs.min-DNbaM3MO.js";import{l as Y,r as x,a as F}from"./lodash-B-3U-dGu.js";import{_ as H}from"./_plugin-vue_export-helper-D0KVHBas.js";import"./Pagination-DCv-RQuV.js";function I(r,p){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),t("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule":"evenodd"})])}function O(r,p){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"})])}const U={class:"bg-base-100 overflow-hidden shadow-md rounded-lg p-6"},q={class:"input input-bordered flex items-center gap-2 w-full md:w-auto"},A={class:"flex items-center gap-3"},E=["href"],K={class:"text-xs capitalize"},G={class:"text-xs opacity-70 capitalize"},J={class:"flex items-center gap-3"},Q={class:"text-start"},R={class:"font-bold capitalize"},W={class:"text-xs opacity-70 capitalize"},X={key:0,class:"badge badge-success badge-outline"},tt={key:1,class:"badge badge-error badge-outline"},et={class:"text-center capitalize"},st={class:"flex justify-center gap-1"},at={class:"tooltip","data-tip":"Lihat"},ot=["href"],it={class:"tooltip","data-tip":"Buat Disposisi"},nt=["href"],lt={class:"tooltip","data-tip":"Ubah"},rt=["href"],dt={class:"tooltip","data-tip":"Hapus"},ct=["onClick"],ut={class:"card-body p-4"},_t={class:"flex justify-between items-start gap-4"},pt={class:"flex items-center gap-3"},bt={class:"font-bold capitalize"},ht={class:"text-xs opacity-70 capitalize"},ft={class:"flex gap-1"},mt=["href"],gt=["onClick"],vt={class:"text-xs space-y-1"},xt={class:"flex justify-between"},wt={class:"font-medium"},yt={class:"flex justify-between"},kt={class:"font-medium"},jt={class:"flex justify-between items-center"},Dt={class:"p-6"},Ct={class:"py-4"},Lt=Object.assign({layout:N},{__name:"IncomingLetterList",props:{letters:Object,filters:Object},setup(r){const p=r,d=m(null),w=C({}),b=m(!1),h=m(p.filters.search);L(h,Y.debounce(o=>{M.get(route("incomingLetter.index"),{search:o},{preserveState:!0,replace:!0})},300));const g=o=>{d.value=o,b.value=!0},f=()=>{b.value=!1,d.value=null},y=()=>{d.value&&w.delete(route("incomingLetter.delete",d.value.id),{onSuccess:()=>{f()}})},k=o=>V(o).format("ddd, DD MMM YYYY"),j=[{key:"no",label:"No.",class:"text-center"},{key:"letter_number",label:"Nomor Surat"},{key:"subject",label:"Subjek & Pengirim",class:"text-center"},{key:"disposition_status",label:"Status Disposisi",class:"text-center"},{key:"letter_date",label:"Tanggal",class:"text-center"}];return(o,s)=>(u(),c(Z,null,[i(l(B),{title:"Pegawai"}),t("div",U,[i(T,{headers:j,items:r.letters,addUrl:o.route("incomingLetter.new")},{"header-info":n(()=>s[1]||(s[1]=[t("h2",{class:"card-title text-xl font-bold"},"Surat Masuk",-1),t("p",{class:"text-sm text-base-content/70"},"Kelola data seluruh surat masuk.",-1)])),"header-search":n(()=>[t("label",q,[S(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),type:"text",class:"grow",placeholder:"Cari nomor surat, subject, pengguna..."},null,512),[[$,h.value]]),i(l(F),{class:"icon"})])]),"col-no":n(({index:e})=>[_(a(r.letters.from+e),1)]),"col-letter_number":n(({item:e})=>[t("div",A,[t("div",null,[t("a",{href:o.route("document.file",e.id),target:"_blank","data-inertia-ignore":"",rel:"noopener noreferrer",class:"font-bold text-primary capitalize hover:underline",title:"Buka Pratinjau di Tab Baru"},a(e.letter_number),9,E),t("div",K,a(e.category.name)+", "+a(e.category.classification_code),1),t("div",G,"Ditambahkan Oleh, "+a(e.user.name),1)])])]),"col-subject":n(({item:e})=>[t("div",J,[t("div",Q,[t("div",R,a(e.subject),1),t("div",W,"Dikirim oleh, "+a(e.sender),1)])])]),"col-disposition_status":n(({item:e})=>[e.is_disposed?(u(),c("div",X,"Ditugaskan")):(u(),c("div",tt,"Belum Ada"))]),"col-letter_date":n(({item:e})=>[t("div",et,a(k(e.letter_date)),1)]),"col-actions":n(({item:e})=>[t("div",st,[t("div",at,[t("a",{href:o.route("incomingLetter.view",e.id),class:"btn btn-info btn-sm text-white"},[i(l(I),{class:"icon"})],8,ot)]),t("div",it,[t("a",{href:o.route("dispositionIncomingLetter.new",e.id),class:"btn btn-primary btn-sm text-white"},[i(l(O),{class:"icon"})],8,nt)]),t("div",lt,[t("a",{href:o.route("incomingLetter.modify",e.id),class:"btn btn-warning btn-sm text-white"},[i(l(v),{class:"icon"})],8,rt)]),t("div",dt,[t("button",{onClick:D=>g(e),class:"btn btn-error btn-sm text-white"},[i(l(x),{class:"icon"})],8,ct)])])]),"mobile-card":n(({item:e})=>[t("div",ut,[t("div",_t,[t("div",pt,[t("div",null,[t("div",bt,a(e.letter_number),1),t("div",ht,a(e.category.name)+", "+a(e.category.classification_code),1)])]),t("div",ft,[t("a",{href:o.route("incomingLetter.modify",e.id),class:"btn btn-square btn-ghost btn-sm"},[i(l(v),{class:"icon text-warning"})],8,mt),t("button",{onClick:D=>g(e),class:"btn btn-square btn-ghost btn-sm"},[i(l(x),{class:"icon text-error"})],8,gt)])]),s[5]||(s[5]=t("div",{class:"divider my-2"},null,-1)),t("dl",vt,[t("div",xt,[s[2]||(s[2]=t("dt",{class:"opacity-70"},"Subjek:",-1)),t("dd",wt,a(e.subject),1)]),t("div",yt,[s[3]||(s[3]=t("dt",{class:"opacity-70"},"Pengirim:",-1)),t("dd",kt,a(e.sender),1)]),t("div",jt,[s[4]||(s[4]=t("dt",{class:"opacity-70"},"Status:",-1)),t("dd",null,[t("div",{class:z(["badge badge-xs mr-1",e.is_disposed===!0?"badge-success":"badge-error"])},null,2),_(" "+a(e.is_disposed===!0?"Belum Ada":"Ditugaskan"),1)])])])])]),_:1},8,["items","addUrl"])]),i(P,{show:b.value,onClose:f},{default:n(()=>[t("div",Dt,[s[8]||(s[8]=t("h3",{class:"text-lg font-bold"},"Konfirmasi Penghapusan",-1)),t("p",Ct,[s[6]||(s[6]=_("Yakin ingin menghapus ",-1)),t("strong",null,a(d.value?.letter_number),1),s[7]||(s[7]=_("?",-1))]),t("div",{class:"flex justify-end gap-3"},[t("button",{class:"btn",onClick:f},"Batal"),t("button",{class:"btn btn-error text-white",onClick:y},"Hapus")])])]),_:1},8,["show"])],64))}}),Tt=H(Lt,[["__scopeId","data-v-9951c61d"]]);export{Tt as default};
