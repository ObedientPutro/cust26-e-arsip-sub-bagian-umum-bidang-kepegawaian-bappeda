import{f as b,u as v,i as h,c,a as p,d as s,b as a,e as o,h as w,w as k,j as V,k as g,l as y,m as x,t as P,F as U}from"./app-dLBOcVNJ.js";import{_ as M}from"./AuthenticatedLayout-CyZJui5o.js";import{_ as i}from"./TextInput-CVtSF1iH.js";import{_ as d,a as u}from"./InputLabel-OTQTgnDj.js";import{_ as j}from"./SelectInput-CKLdoSGI.js";import"./_plugin-vue_export-helper-D0KVHBas.js";const F={class:"bg-base-100 overflow-hidden shadow-md rounded-lg p-6"},N={class:"space-y-12"},O={class:"border-b border-gray-900/10 pb-12"},S={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},T={class:"sm:col-span-4"},$={class:"mt-2"},B={class:"sm:col-span-4"},C={class:"mt-2"},E={class:"sm:col-span-4"},q={class:"mt-2"},z={class:"sm:col-span-4"},A={class:"mt-2"},D={class:"sm:col-span-4"},H={class:"mt-2"},L={class:"mt-6 flex items-center justify-end gap-x-6"},R=["disabled"],X={key:0,class:"loading loading-spinner"},Y=Object.assign({layout:M},{__name:"UserForm",props:{user:{required:!1,type:Object},roles:{required:!0,type:Object},errors:{required:!0,type:Object}},setup(m){const r=m,f=b(()=>!!r.user),l=v({name:r.user?.name||"",email:r.user?.email||"",username:r.user?.username||"",password:null,role:r.user?.role||""});h(()=>l.username,n=>{if(n){let e=n.toLowerCase();e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_]/g,""),e=e.replace(/_{2,}/g,"_"),l.username=e}});const _=()=>{const n=r.user?route("user.update",r.user.id):route("user.save");l.post(n,{forceFormData:!0,preserveState:!0,onSuccess:()=>{l.reset()},headers:{"X-HTTP-Method-Override":r.user?"PATCH":"POST"}})};return(n,e)=>(p(),c(U,null,[s(o(w),{title:"Akun"}),a("div",F,[a("form",{onSubmit:k(_,["prevent"]),class:"mx-2"},[a("div",N,[a("div",O,[a("div",S,[a("div",T,[a("div",$,[s(d,{for:"name",value:"Nama Pengguna"}),s(i,{id:"name",ref:"name",modelValue:o(l).name,"onUpdate:modelValue":e[0]||(e[0]=t=>o(l).name=t),type:"text",class:"mt-1 block w-full",placeholder:"Masukkan Nama"},null,8,["modelValue"]),s(u,{message:m.errors.name,class:"mt-2"},null,8,["message"])])]),a("div",B,[a("div",C,[s(d,{for:"email",value:"Email Pengguna"}),s(i,{id:"email",ref:"email",modelValue:o(l).email,"onUpdate:modelValue":e[1]||(e[1]=t=>o(l).email=t),type:"text",class:"mt-1 block w-full",placeholder:"Masukkan Email"},null,8,["modelValue"]),s(u,{message:m.errors.email,class:"mt-2"},null,8,["message"])])]),a("div",E,[a("div",q,[s(d,{for:"username",value:"Username"}),s(i,{id:"username",ref:"username",modelValue:o(l).username,"onUpdate:modelValue":e[2]||(e[2]=t=>o(l).username=t),type:"text",class:"mt-1 block w-full",placeholder:"Masukkan Username"},null,8,["modelValue"]),s(u,{message:m.errors.username,class:"mt-2"},null,8,["message"])])]),a("div",z,[a("div",A,[s(d,{for:"password",value:"Password"}),s(i,{id:"password",ref:"password",modelValue:o(l).password,"onUpdate:modelValue":e[3]||(e[3]=t=>o(l).password=t),type:"password",class:"mt-1 block w-full",placeholder:"Masukkan Password"},null,8,["modelValue"]),s(u,{message:m.errors.password,class:"mt-2"},null,8,["message"])])]),a("div",D,[a("div",H,[s(d,{for:"category",value:"Role Pengguna"}),s(j,{class:"capitalize",modelValue:o(l).role,"onUpdate:modelValue":e[4]||(e[4]=t=>o(l).role=t),items:m.roles,placeholder:"Pilih"},null,8,["modelValue","items"]),s(u,{message:m.errors.role,class:"mt-2"},null,8,["message"])])])])])]),a("div",L,[s(o(y),{href:n.route("user.index"),class:"btn btn-ghost"},{default:V(()=>e[5]||(e[5]=[g("Batal",-1)])),_:1,__:[5]},8,["href"]),a("button",{type:"submit",class:"btn text-white bg-blue-600 hover:bg-blue-700",disabled:o(l).processing},[o(l).processing?(p(),c("span",X)):x("",!0),g(" "+P(f.value?"Update Pengguna":"Simpan Pengguna"),1)],8,R)])],32)])],64))}});export{Y as default};
