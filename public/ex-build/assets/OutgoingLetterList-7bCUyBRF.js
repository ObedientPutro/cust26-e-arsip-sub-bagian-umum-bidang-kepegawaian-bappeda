import{p as _,u as j,i as D,q as L,c as C,a as S,d as l,b as t,e as r,h as z,j as n,t as a,k as p,s as B,v as M,F as O}from"./app-dLBOcVNJ.js";import{_ as T}from"./AuthenticatedLayout-CyZJui5o.js";import{_ as $}from"./en-CR65d2FG.js";import{D as N}from"./DataTable-BVy1cLBB.js";import{r as h,d as P}from"./dayjs.min-DNbaM3MO.js";import{l as Y,r as g,a as F}from"./lodash-B-3U-dGu.js";import{_ as U}from"./_plugin-vue_export-helper-D0KVHBas.js";import"./Pagination-DCv-RQuV.js";const V={class:"bg-base-100 overflow-hidden shadow-md rounded-lg p-6"},q={class:"input input-bordered flex items-center gap-2 w-full md:w-auto"},K={class:"flex items-center gap-3"},E=["href"],H={class:"text-xs capitalize"},I={class:"text-xs opacity-70 capitalize"},A={class:"text-center capitalize"},G={class:"flex justify-center gap-1"},J={class:"tooltip","data-tip":"Ubah"},Q=["href"],R={class:"tooltip","data-tip":"Hapus"},W=["onClick"],X={class:"card-body p-4"},Z={class:"flex justify-between items-start gap-4"},tt={class:"flex items-center gap-3"},et={class:"font-bold capitalize"},st={class:"text-xs opacity-70 capitalize"},at={class:"flex gap-1"},ot=["href"],lt=["onClick"],nt={class:"text-xs space-y-1"},rt={class:"flex justify-between"},it={class:"font-medium"},dt={class:"flex justify-between"},ct={class:"font-medium"},ut={class:"flex justify-between"},ft={class:"font-medium"},_t={class:"p-6"},pt={class:"py-4"},bt=Object.assign({layout:T},{__name:"OutgoingLetterList",props:{letters:Object,filters:Object},setup(d){const v=d,i=_(null),x=j({}),c=_(!1),u=_(v.filters.search);D(u,Y.debounce(o=>{L.get(route("outgoingLetter.index"),{search:o},{preserveState:!0,replace:!0})},300));const b=o=>{i.value=o,c.value=!0},f=()=>{c.value=!1,i.value=null},y=()=>{i.value&&x.delete(route("outgoingLetter.delete",i.value.id),{onSuccess:()=>{f()}})},m=o=>P(o).format("ddd, DD MMM YYYY"),w=[{key:"no",label:"No.",class:"text-center"},{key:"letter_number",label:"Nomor Surat"},{key:"subject",label:"Subjek",class:"text-center"},{key:"recipient",label:"Penerima",class:"text-center"},{key:"letter_date",label:"Tanggal",class:"text-center"}];return(o,s)=>(S(),C(O,null,[l(r(z),{title:"Pegawai"}),t("div",V,[l(N,{headers:w,items:d.letters,addUrl:o.route("outgoingLetter.new")},{"header-info":n(()=>s[1]||(s[1]=[t("h2",{class:"card-title text-xl font-bold"},"Surat Keluar",-1),t("p",{class:"text-sm text-base-content/70"},"Kelola data seluruh surat keluar.",-1)])),"header-search":n(()=>[t("label",q,[B(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e),type:"text",class:"grow",placeholder:"Cari nomor surat, subject, pengguna..."},null,512),[[M,u.value]]),l(r(F),{class:"icon"})])]),"col-no":n(({index:e})=>[p(a(d.letters.from+e),1)]),"col-letter_number":n(({item:e})=>[t("div",K,[t("div",null,[t("a",{href:o.route("document.file",e.id),target:"_blank","data-inertia-ignore":"",rel:"noopener noreferrer",class:"font-bold text-primary capitalize hover:underline",title:"Buka Pratinjau di Tab Baru"},a(e.letter_number),9,E),t("div",H,a(e.category.name)+", "+a(e.category.classification_code),1),t("div",I,"Ditambahkan Oleh, "+a(e.user.name),1)])])]),"col-letter_date":n(({item:e})=>[t("div",A,a(m(e.letter_date)),1)]),"col-actions":n(({item:e})=>[t("div",G,[t("div",J,[t("a",{href:o.route("outgoingLetter.modify",e.id),class:"btn btn-warning btn-sm text-white"},[l(r(h),{class:"icon"})],8,Q)]),t("div",R,[t("button",{onClick:k=>b(e),class:"btn btn-error btn-sm text-white"},[l(r(g),{class:"icon"})],8,W)])])]),"mobile-card":n(({item:e})=>[t("div",X,[t("div",Z,[t("div",tt,[t("div",null,[t("div",et,a(e.letter_number),1),t("div",st,a(e.category.name)+", "+a(e.category.classification_code),1)])]),t("div",at,[t("a",{href:o.route("outgoingLetter.modify",e.id),class:"btn btn-square btn-ghost btn-sm"},[l(r(h),{class:"icon text-warning"})],8,ot),t("button",{onClick:k=>b(e),class:"btn btn-square btn-ghost btn-sm"},[l(r(g),{class:"icon text-error"})],8,lt)])]),s[5]||(s[5]=t("div",{class:"divider my-2"},null,-1)),t("dl",nt,[t("div",rt,[s[2]||(s[2]=t("dt",{class:"opacity-70"},"Subjek:",-1)),t("dd",it,a(e.subject),1)]),t("div",dt,[s[3]||(s[3]=t("dt",{class:"opacity-70"},"Penerima:",-1)),t("dd",ct,a(e.recipient),1)]),t("div",ut,[s[4]||(s[4]=t("dt",{class:"opacity-70"},"Tanggal:",-1)),t("dd",ft,a(m(e.letter_date)),1)])])])]),_:1},8,["items","addUrl"])]),l($,{show:c.value,onClose:f},{default:n(()=>[t("div",_t,[s[8]||(s[8]=t("h3",{class:"text-lg font-bold"},"Konfirmasi Penghapusan",-1)),t("p",pt,[s[6]||(s[6]=p("Yakin ingin menghapus ",-1)),t("strong",null,a(i.value?.letter_number),1),s[7]||(s[7]=p("?",-1))]),t("div",{class:"flex justify-end gap-3"},[t("button",{class:"btn",onClick:f},"Batal"),t("button",{class:"btn btn-error text-white",onClick:y},"Hapus")])])]),_:1},8,["show"])],64))}}),jt=U(bt,[["__scopeId","data-v-29ae4cb1"]]);export{jt as default};
