import{p,u as C,i as D,q as j,c as K,a as S,d as o,b as e,e as n,h as M,j as l,t as i,k as m,s as T,v as $,F as q}from"./app-dLBOcVNJ.js";import{_ as Y}from"./AuthenticatedLayout-CyZJui5o.js";import{_ as B}from"./en-CR65d2FG.js";import{D as F}from"./DataTable-BVy1cLBB.js";import{r as h,d as N}from"./dayjs.min-DNbaM3MO.js";import{l as U,r as g,a as V}from"./lodash-B-3U-dGu.js";import{_ as z}from"./_plugin-vue_export-helper-D0KVHBas.js";import"./Pagination-DCv-RQuV.js";const O={class:"bg-base-100 overflow-hidden shadow-md rounded-lg p-6"},A={class:"input input-bordered flex items-center gap-2 w-full md:w-auto"},E={class:"text-center capitalize"},H={class:"flex justify-center gap-1"},L={class:"tooltip","data-tip":"Ubah"},I=["href"],P={class:"tooltip","data-tip":"Hapus"},G=["onClick"],J={class:"card-body p-4"},Q={class:"flex justify-between items-start gap-4"},R={class:"flex items-center gap-3"},W={class:"font-bold capitalize"},X={class:"font-bold capitalize"},Z={class:"flex gap-1"},ee=["href"],te=["onClick"],se={class:"text-xs space-y-1"},ae={class:"flex justify-between"},oe={class:"p-6"},le={class:"py-4"},ne=Object.assign({layout:Y},{__name:"CategoryList",props:{categories:{required:!0,type:Object},filters:{required:!0,type:Object}},setup(d){const v=d,r=p(null),x=C({}),c=p(!1),u=p(v.filters.search);D(u,U.debounce(a=>{j.get(route("category.index"),{search:a},{preserveState:!0,replace:!0})},300));const b=a=>{r.value=a,c.value=!0},f=()=>{c.value=!1,r.value=null},y=()=>{r.value&&x.delete(route("category.delete",r.value.id),{onSuccess:()=>{f()}})},_=a=>N(a).format("ddd, DD MMM YYYY"),k=[{key:"no",label:"No.",class:"text-center"},{key:"name",label:"Kategori / Klasifikasi",class:"text-center"},{key:"classification_code",label:"Kode",class:"text-center"},{key:"created_at",label:"Tanggal Ditambahkan",class:"text-center"}];return(a,t)=>(S(),K(q,null,[o(n(M),{title:"Klasifikasi Surat"}),e("div",O,[o(F,{headers:k,items:d.categories,addUrl:a.route("category.new")},{"header-info":l(()=>t[1]||(t[1]=[e("h2",{class:"card-title text-xl font-bold"},"Daftar Klasifikasi Surat",-1),e("p",{class:"text-sm text-base-content/70"},"Kelola data seluruh Klasifikasi Surat.",-1)])),"header-search":l(()=>[e("label",A,[T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),type:"text",class:"grow",placeholder:"Cari nama, kode..."},null,512),[[$,u.value]]),o(n(V),{class:"icon"})])]),"col-no":l(({index:s})=>[m(i(d.categories.from+s),1)]),"col-created_at":l(({item:s})=>[e("div",E,i(_(s.created_at)),1)]),"col-actions":l(({item:s})=>[e("div",H,[e("div",L,[e("a",{href:a.route("category.modify",s.id),class:"btn btn-warning btn-sm text-white"},[o(n(h),{class:"icon"})],8,I)]),e("div",P,[e("button",{onClick:w=>b(s),class:"btn btn-error btn-sm text-white"},[o(n(g),{class:"icon"})],8,G)])])]),"mobile-card":l(({item:s})=>[e("div",J,[e("div",Q,[e("div",R,[e("div",null,[e("div",W,i(s.name),1),e("div",X,i(s.classification_code),1)])]),e("div",Z,[e("a",{href:a.route("category.modify",s.id),class:"btn btn-square btn-ghost btn-sm"},[o(n(h),{class:"icon text-warning"})],8,ee),e("button",{onClick:w=>b(s),class:"btn btn-square btn-ghost btn-sm"},[o(n(g),{class:"icon text-error"})],8,te)])]),t[3]||(t[3]=e("div",{class:"divider my-2"},null,-1)),e("dl",se,[e("div",ae,[t[2]||(t[2]=e("dt",{class:"opacity-70"},"Tanggal:",-1)),e("dd",null,i(_(s.created_at)),1)])])])]),_:1},8,["items","addUrl"])]),o(B,{show:c.value,onClose:f},{default:l(()=>[e("div",oe,[t[6]||(t[6]=e("h3",{class:"text-lg font-bold"},"Konfirmasi Penghapusan",-1)),e("p",le,[t[4]||(t[4]=m("Tindakan ini akan menghapus ",-1)),e("strong",null,i(r.value?.name),1),t[5]||(t[5]=m(" dan Seluruh Arsip dengan Kategori ini, Anda Yakin?",-1))]),e("div",{class:"flex justify-end gap-3"},[e("button",{class:"btn",onClick:f},"Batal"),e("button",{class:"btn btn-error",onClick:y},"Hapus")])])]),_:1},8,["show"])],64))}}),be=z(ne,[["__scopeId","data-v-394d96e5"]]);export{be as default};
