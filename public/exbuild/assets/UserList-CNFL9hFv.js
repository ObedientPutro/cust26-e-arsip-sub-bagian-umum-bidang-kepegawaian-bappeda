import{p,u as j,i as D,q as C,c as U,a as M,d as l,b as e,e as r,h as $,j as n,t as a,k as m,s as q,v as z,F as N}from"./app-CO7XkVRJ.js";import{_ as T}from"./AuthenticatedLayout-D6rz2QHF.js";import{_ as Y}from"./en-DGQ-xVEB.js";import{D as B}from"./DataTable-DnRxxmIG.js";import{r as h,d as F}from"./dayjs.min-CMc8oMta.js";import{l as V,r as v,a as A}from"./lodash-D7oR4NRi.js";import{_ as E}from"./_plugin-vue_export-helper-B1A2FBPl.js";import"./Pagination-FpKpIvqA.js";const O={class:"bg-base-100 overflow-hidden shadow-md rounded-lg p-6"},P={class:"input input-bordered flex items-center gap-2 w-full md:w-auto"},S={class:"flex gap-3"},H={class:"w-full"},K={class:""},L={class:"text-xs opacity-70 capitalize"},I={class:"text-center capitalize"},R={class:"flex justify-center gap-1"},G={class:"tooltip","data-tip":"Ubah"},J=["href"],Q={class:"tooltip","data-tip":"Hapus"},W=["onClick"],X={class:"card-body p-4"},Z={class:"flex justify-between items-start gap-4"},ee={class:"flex items-center gap-3"},se={class:"font-bold capitalize"},te={class:"text-xs opacity-70 capitalize"},ae={class:"flex gap-1"},oe=["href"],le=["onClick"],ne={class:"text-xs space-y-1"},re={class:"flex justify-between"},ie={class:"font-medium"},de={class:"flex justify-between"},ce={class:"font-medium capitalize"},ue={class:"flex justify-between"},fe={class:"p-6"},pe={class:"py-4"},me=Object.assign({layout:T},{__name:"UserList",props:{users:{required:!0,type:Object},filters:{required:!0,type:Object}},setup(d){const x=d,i=p(null),g=j({}),c=p(!1),u=p(x.filters.search);D(u,V.debounce(o=>{C.get(route("user.index"),{search:o},{preserveState:!0,replace:!0})},300));const _=o=>{i.value=o,c.value=!0},f=()=>{c.value=!1,i.value=null},y=()=>{i.value&&g.delete(route("user.delete",i.value.id),{onSuccess:()=>{f()}})},b=o=>F(o).format("ddd, DD MMM YYYY"),w=[{key:"no",label:"No.",class:"text-center"},{key:"name",label:"Nama",class:"text-center"},{key:"username",label:"Akun Pengguna",class:"text-center"},{key:"email",label:"Email",class:"text-center"},{key:"created_at",label:"Tanggal Ditambahkan",class:"text-center"}];return(o,t)=>(M(),U(N,null,[l(r($),{title:"Akun"}),e("div",O,[l(B,{headers:w,items:d.users,addUrl:o.route("user.new")},{"header-info":n(()=>t[1]||(t[1]=[e("h2",{class:"card-title text-xl font-bold"},"Daftar Akun Pengguna",-1),e("p",{class:"text-sm text-base-content/70"},"Kelola data seluruh akun pengguna.",-1)])),"header-search":n(()=>[e("label",P,[q(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),type:"text",class:"grow",placeholder:"Cari username, nama, role..."},null,512),[[z,u.value]]),l(r(A),{class:"icon"})])]),"col-no":n(({index:s})=>[m(a(d.users.from+s),1)]),"col-username":n(({item:s})=>[e("div",S,[e("div",H,[e("div",K,a(s.username),1),e("div",L,a(s.role_label),1)])])]),"col-created_at":n(({item:s})=>[e("div",I,a(b(s.created_at)),1)]),"col-actions":n(({item:s})=>[e("div",R,[e("div",G,[e("a",{href:o.route("user.modify",s.id),class:"btn btn-warning btn-sm text-white"},[l(r(h),{class:"icon"})],8,J)]),e("div",Q,[e("button",{onClick:k=>_(s),class:"btn btn-error btn-sm text-white"},[l(r(v),{class:"icon"})],8,W)])])]),"mobile-card":n(({item:s})=>[e("div",X,[e("div",Z,[e("div",ee,[e("div",null,[e("div",se,a(s.name),1),e("div",te,a(s.email),1)])]),e("div",ae,[e("a",{href:o.route("user.modify",s.id),class:"btn btn-square btn-ghost btn-sm"},[l(r(h),{class:"icon text-warning"})],8,oe),e("button",{onClick:k=>_(s),class:"btn btn-square btn-ghost btn-sm"},[l(r(v),{class:"icon text-error"})],8,le)])]),t[5]||(t[5]=e("div",{class:"divider my-2"},null,-1)),e("dl",ne,[e("div",re,[t[2]||(t[2]=e("dt",{class:"opacity-70"},"Username:",-1)),e("dd",ie,a(s.name),1)]),e("div",de,[t[3]||(t[3]=e("dt",{class:"opacity-70"},"Role:",-1)),e("dd",ce,a(s.role_label),1)]),e("div",ue,[t[4]||(t[4]=e("dt",{class:"opacity-70"},"Tanggal:",-1)),e("dd",null,a(b(s.created_at)),1)])])])]),_:1},8,["items","addUrl"])]),l(Y,{show:c.value,onClose:f},{default:n(()=>[e("div",fe,[t[8]||(t[8]=e("h3",{class:"text-lg font-bold"},"Konfirmasi Penghapusan",-1)),e("p",pe,[t[6]||(t[6]=m("Yakin ingin menghapus ",-1)),e("strong",null,a(i.value?.name),1),t[7]||(t[7]=m("?",-1))]),e("div",{class:"flex justify-end gap-3"},[e("button",{class:"btn",onClick:f},"Batal"),e("button",{class:"btn btn-error",onClick:y},"Hapus")])])]),_:1},8,["show"])],64))}}),ke=E(me,[["__scopeId","data-v-c724514f"]]);export{ke as default};
